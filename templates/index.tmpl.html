<!DOCTYPE html>
<html lang="zh-Hans">

<head>
    {{template "header.tmpl.html"}}
</head>

<body>
    <nav>
        <div class="nav nav-tabs" id="nav-tab" role="tablist">
            <button class="nav-link active" id="nav-asset-tab" data-bs-toggle="tab" data-bs-target="#nav-asset"
                type="button" role="tab" aria-controls="nav-asset" aria-selected="true">标的</button>
            <button class="nav-link" id="nav-user-tab" data-bs-toggle="tab" data-bs-target="#nav-user" type="button"
                role="tab" aria-controls="nav-user" aria-selected="false">用户</button>
        </div>
    </nav>
    <div class="tab-content" id="nav-tabContent">
        <div class="tab-pane fade show active" id="nav-asset" role="tabpanel" aria-labelledby="nav-asset-tab">
            <form class="row align-items-center" method="post" action="newAsset">
                <div class="col-auto">
                    <label for="newTicker">代号</label>
                </div>
                <div class="col-auto">
                    <input class="form-control" type="text" name="ticker" maxlength="3" placeholder="CNY" id="newTicker"
                        required>
                </div>
                <div class="col-auto">
                    <button type="submit" class="btn btn-primary">发行</button>
                </div>
            </form>
            <table class="table">
                <thead>
                    <tr>
                        <th scope="col">标的</th>
                    </tr>
                </thead>
                <tbody>
                    {{ range .assets }}
                    <tr>
                        <td>{{.Ticker}}</td>
                    </tr>
                    {{ end }}
                </tbody>
            </table>
        </div>
        <div class="tab-pane fade" id="nav-user" role="tabpanel" aria-labelledby="nav-user-tab">
            <form class="row align-items-center" method="post" action="newUser">
                <div class="col-auto">
                    <label for="newUser">户名</label>
                </div>
                <div class="col-auto">
                    <input class="form-control" type="text" name="name"  placeholder="user" id="newUser"
                        required>
                </div>
                <div class="col-auto">
                    <button type="submit" class="btn btn-primary">开户</button>
                </div>
            </form>
            <form action="listAccount">
                {{ range .users }}
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="user" value="{{ .Model.ID }}"
                        id="listAccountRadion-{{ .Model.ID }}">
                    <label class="form-check-label" for="listAccountRadion-{{ .Model.ID }}">
                        {{ .Name }}
                    </label>
                </div>
                {{ end }}
                <button type="submit" class="btn btn-primary">列印</button>
            </form>
        </div>
    </div>

</body>

</html>